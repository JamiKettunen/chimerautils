--- patch/inp.c.orig	2022-07-28 22:07:02.525511540 +0200
+++ patch/inp.c	2022-07-28 22:08:09.562946258 +0200
@@ -35,6 +35,7 @@
 
 #include <ctype.h>
 #include <errno.h>
+#include <fcntl.h>
 #include <libgen.h>
 #include <paths.h>
 #include <spawn.h>
@@ -284,7 +285,7 @@ static void
 plan_b(const char *filename)
 {
 	FILE	*ifp;
-	size_t	i = 0, j, len, maxlen = 1;
+	size_t	i = 0, j, len = 0, maxlen = 1;
 	char	*lbuf = NULL, *p;
 	bool	found_revision = (revision == NULL);
 
