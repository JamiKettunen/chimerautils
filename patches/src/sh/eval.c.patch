--- sh/eval.c.orig	2022-07-27 21:59:35.222241559 +0200
+++ sh/eval.c	2022-07-28 07:11:03.499384285 +0200
@@ -95,7 +95,7 @@ static void exphere(union node *, struct
 static void expredir(union node *);
 static void evalpipe(union node *);
 static int is_valid_fast_cmdsubst(union node *n);
-static void evalcommand(union node *, int, struct backcmd *);
+static void evalcommand(union node *, volatile int, struct backcmd *);
 static void prehash(union node *);
 
 
@@ -492,7 +492,7 @@ exphere(union node *redir, struct arglis
 	struct jmploc jmploc;
 	struct jmploc *savehandler;
 	struct localvar *savelocalvars;
-	int need_longjmp = 0;
+	volatile int need_longjmp = 0;
 	unsigned char saveoptreset;
 
 	redir->nhere.expdoc = "";
@@ -815,7 +815,7 @@ safe_builtin(int idx, int argc, char **a
  */
 
 static void
-evalcommand(union node *cmd, int flags, struct backcmd *backcmd)
+evalcommand(union node *cmd, volatile int flags, struct backcmd *backcmd)
 {
 	union node *argp;
 	struct arglist arglist;
@@ -1259,7 +1259,7 @@ breakcmd(int argc, char **argv)
  * The `command' command.
  */
 int
-commandcmd(int argc __unused, char **argv __unused)
+commandcmd(int argc __attribute__((unused)), char **argv __attribute__((unused)))
 {
 	const char *path;
 	int ch;
@@ -1313,14 +1313,14 @@ returncmd(int argc, char **argv)
 
 
 int
-falsecmd(int argc __unused, char **argv __unused)
+falsecmd(int argc __attribute__((unused)), char **argv __attribute__((unused)))
 {
 	return 1;
 }
 
 
 int
-truecmd(int argc __unused, char **argv __unused)
+truecmd(int argc __attribute__((unused)), char **argv __attribute__((unused)))
 {
 	return 0;
 }
@@ -1351,7 +1351,7 @@ execcmd(int argc, char **argv)
 
 
 int
-timescmd(int argc __unused, char **argv __unused)
+timescmd(int argc __attribute__((unused)), char **argv __attribute__((unused)))
 {
 	struct rusage ru;
 	long shumins, shsmins, chumins, chsmins;
